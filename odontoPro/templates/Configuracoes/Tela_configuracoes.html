{% load static %}

<!DOCTYPE html>
<html lang="pt-br">

<head>
    <meta charset="UTF-8">
    <title>Header OdontoPro</title>
    <link rel="stylesheet" href="{% static "css/HeaderFooter/HeaderFooter.css" %}">
    <link rel="stylesheet" href="{% static "css/Configuracoes/Tela_configuracoes.css" %}">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;700&display=swap" rel="stylesheet">
</head>

<body>
    {% block header %}
    {% include 'partials/header/header.html' %}
    {% endblock %}

    <main>
        <div class="tab-content" id="Perfil">
            <div class="tabs">
                <button class="tab-button active" data-tab="perfil-content">Perfil</button>
                <button class="tab-button" data-tab="preferencias-content">Preferências</button>
                <button class="tab-button" data-tab="seguranca-content">Segurança</button>
            </div>

            <h2>Configurações</h2>

           
            <!-- Perfil -->
            <div id="perfil-content" class="tab-section" style="display: grid;">

             
                <section class="avatar-section">
                    <p class="avatar">Avatar</p>
                    <div class="avatar-container">
                        <div class="avatar-circle">
                            <img src="" id="avatarImage">
                        </div>
                        <div class="avatar-buttons">
                            <button type="button" class="btn-upload">Upload</button>
                            <button type="button" class="btn-remove">Remover Foto</button>
                        </div>
                    </div>
                    <p class="profile-text">Informações Pessoais</p>
                </section>
                <div class="nome">
                    <label for="nome">Nome</label>
                    <input type="text" id="nome" name="nome">
                </div>

                <div class="cpf">
                    <label for="cpf">Cpf</label>
                    <input type="text" id="cpf" name="cpf">
                </div>

                <div class="Data_de_Nascimento">
                    <label for="datadenascimento">Data de Nascimento</label>
                    <input type="text" id="datadenascimento" name="datadenascimento">
                </div>

                <div class="email">
                    <label for="email">Email</label>
                    <input type="text" id="email" name="email">
                </div>

                <div class="cidade">
                    <label for="cidade">Cidade</label>
                    <input type="text" id="Cidade" name="Cidade">
                </div>

                <div class="endereço">
                    <label for="endereço">Endereço</label>
                    <input type="text" id="endereço" name="endereço">
                </div>

                <div class="cep">
                    <label for="cep">Cep</label>
                    <input type="text" id="cep" name="cep">
                </div>

                <div class="codigo_postal">
                    <label for="codigo_postal">Código Postal</label>
                    <input type="text" id="Codigo_Postal" name="Codigo_Postal">
                </div>
            </div>

            <!-- Preferências -->
            <div id="preferencias-content" class="tab-section" style="display: none;">
                <p>Notificações</p>

                <div class="toggle">
                    <label class="toggle-switch">
                        <input type="checkbox">
                        <span class="slider"></span>
                    </label>
                    <span class="Notificação01">Notificação</span>
                </div>
            </div>

            <!-- Segurança -->
            <div id="seguranca-content" class="tab-section" style="display: none;">
                <p>Alterar Senha</p>

                <div class="nova_senha">
                    <label for="nova-senha">Nova senha</label>
                    <input type="password" id="nova-senha" name="nova-senha" />
                </div>

                <div class="confirmar">
                    <label for="confirmar">Confirme sua senha</label>
                    <input type="password" id="confirmar" name="confirmar" />
                </div>
            </div>

            <!-- Botões de Salvar -->
            <div class="botoes-salvar">
                <button id="btn-salvar-perfil" class="salvar" type="button" style="display: block;">Salvar</button>
                <button id="btn-salvar-preferencias" class="salvar" type="button" style="display: none;">Salvar</button>
                <button id="btn-salvar-seguranca" class="salvar" type="button" style="display: none;">Salvar</button>
            </div>
        </div>
    </main>

    {% block footer %}
    {% include 'partials/footer/footer.html' %}
    {% endblock %}

    <script src="Header.js"></script>

    <script>
        const tabButtons = document.querySelectorAll(".tab-button");
        const tabSections = document.querySelectorAll(".tab-section");

        const btnPerfil = document.getElementById("btn-salvar-perfil");
        const btnPreferencias = document.getElementById("btn-salvar-preferencias");
        const btnSeguranca = document.getElementById("btn-salvar-seguranca");

        tabButtons.forEach(btn => {
            btn.addEventListener("click", () => {
                const target = btn.getAttribute("data-tab");

                // Remove todos os "active" e oculta as seções
                tabButtons.forEach(b => b.classList.remove("active"));
                tabSections.forEach(s => s.style.display = "none");

                // Ativa botão atual
                btn.classList.add("active");

                // Exibe a aba correta, respeitando o display original
                const section = document.getElementById(target);
                if (target === "perfil-content") {
                    section.style.display = "grid";
                } else {
                    section.style.display = "block";
                }

                // Mostrar o botão salvar correspondente
                btnPerfil.style.display = target === "perfil-content" ? "block" : "none";
                btnPreferencias.style.display = target === "preferencias-content" ? "block" : "none";
                btnSeguranca.style.display = target === "seguranca-content" ? "block" : "none";
            });
        });
    </script>
</body>

</html>
